/**
 * @file Firestore Security Rules
 * @corePhilosophy This ruleset allows anyone to submit contact form data but restricts listing and direct data retrieval to prevent unauthorized access to submissions.
 * @dataStructure Contact form submissions are stored in a top-level collection: `/nam5/{submissionId}`.
 * @keySecurityDecisions Listing submissions is disallowed to prevent data scraping. Individual submission retrieval is disallowed unless authenticated.
 */
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    /**
     * @description Allows anyone to create a contact form submission. Listing and getting is disallowed.
     * @path /nam5/{submissionId}
     * @allow (create) - Any unauthenticated user can submit the form.
     * @deny (get) - No one can get the data.
     * @deny (list) - No one can list the data.
     * @principle Allows public submission, but restricts reading submissions.
     */
    match /nam5/{submissionId} {
      allow get: if false;
      allow list: if false;
      allow create: if true;
      allow update: if false;
      allow delete: if false;
    }
  }
}